!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);let r=0;class o{constructor(){this.id=r++,this.subs=[]}addSub(t){this.subs.push(t)}notify(){this.subs.forEach(t=>t.update())}depend(){o.target.addDep(this)}}o.target=null;var i=o;function s(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var l=class{constructor(t,e,n,r){this.depIds={},this.vm=t,this.expOrFn=e,this.cb=n,this.getter="function"==typeof e?e:function(t){const e=t.split(".");return function(t){for(let n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}(e),this.val=this.get(),r&&(t._watcher=this)}get(){i.target=this;const t=this.getter.call(this.vm,this.vm);return i.target=null,t}update(){this.run()}run(){const t=this.get();var e;t===this.val&&(null===(e=t)||"object"!=typeof e)||(this.val=t,this.cb.call(this.vm,t))}addDep(t){this.depIds.hasOwnProperty(t.id)||(t.addSub(this),this.depIds[t.id]=t)}};const c=Array.prototype,a=Object.create(c);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){const e=c[t];s(a,t,(function(...n){const r=e.apply(this,n),o=this.__ob__;let i;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&o.observeArray(i),o.dep.notify(),r}))}));class u{constructor(t){var e;this.value=t,this.dep=new i,s(t,"__ob__",this),Array.isArray(t)?(e=a,t.__proto__=e,this.observeArray(t)):this.walk(t)}walk(t){Object.keys(t).forEach(e=>this.convert(e,t[e]))}convert(t,e){!function(t,e,n){const r=new i;let o=f(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>(i.target&&(r.depend(),o&&(o.dep.depend(),Array.isArray(n)&&function t(e){for(let n,r=0,o=e.length;r<o;r++)(n=e[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(n))),n),set(t){t!==n&&(n=t,o=f(t),r.notify())}})}(this.value,t,e)}observeArray(t){for(let e=0,n=t.length;e<n;e++)f(t[e])}}function f(t){if(t&&"object"==typeof t)return new u(t)}function h(t,e){const n=Object.create(null),r=t.split(",");for(let t=0;t<r.length;t++)n[r[t]]=!0;return e?t=>n[t.toLowerCase()]:t=>n[t]}h("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),h("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source");function d(t){return null==t}function p(t){return null!=t}function g(t){return null==t?"":Array.isArray(t)||(e=t,"[object Object]"===Object.prototype.toString.call(e)&&t.toString===_toString)?JSON.stringify(t,null,2):String(t);var e}const y=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,v=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,b="[a-zA-Z_][\\-\\.0-9_a-zA-Z]*",m=`((?:${b}\\:)?${b})`,_=new RegExp(`^<${m}`),$=/^\s*(\/?)>/,x=new RegExp(`^<\\/${m}[^>]*>`),w={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},A=/&(?:lt|gt|quot|amp|#39);/g;function k(t){const e=A;return t.replace(e,t=>w[t])}const O=/\{\{((?:.|\r?\n)+?)\}\}/g;function S(t,e,n){(t.attrs||(t.attrs=[])).push({name:e,value:n}),t.plain=!1}function j(t,e,n){let r=t.events||(t.events={});const o={value:n.trim()},i=r[e];Array.isArray(i)?i.push(o):r[e]=i?[i,o]:o,t.plain=!1}function C(t,e,n){let r;if(null!=(r=t.attrsMap[e])){const n=t.attrsList;for(let t=0,r=n.length;t<r;t++)if(n[t].name===e){n.splice(t,1);break}}return n&&delete t.attrsMap[e],r}const P=/^@|^v-on:/,N=/^v-|^@|^:|^#/,L=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,E=/^\(|\)$/g,I=/^:|^\.|^v-bind:/;function M(t){const e=[];let n,r;function o(t){i(t),t=function(t){return function(t){const e=function(t,e){const n=C(t,e);if(null!=n)return JSON.stringify(n)}(t,"key");e&&(t.key=e)}(t),t.plain=!t.key&&!t.attrsList.length,function(t){const e=t.attrsList;let n,r,o,i;for(console.log("listlist",e),n=0,r=e.length;n<r;n++)o=e[n].name,i=e[n].value,N.test(o)?(t.hasBindings=!0,I.test(o)?(o=o.replace(I,""),S(t,o,i)):P.test(o)&&(o=o.replace(P,""),j(t,o,i))):S(t,o,JSON.stringify(i))}(t),t}(t),r&&(t.elseif||t.else?function(t,e){const n=function(t){let e=t.length;for(;e--;){if(1===t[e].type)return t[e];t.pop()}}(e.children);n&&n.if&&F(n,{exp:t.elseif,block:t})}(t,r):(r.children.push(t),t.parent=r)),i(t)}function i(t){let e;for(;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return function(t,e){const n=[];let r,o=0;for(;t;){r=t;let n,a,u,f=t.indexOf("<");if(0===f){const e=t.match(x);if(e){const t=o;i(e[0].length),c(e[1],t,o);continue}const n=s();if(n){l(n);continue}}if(f>=0){for(a=t.slice(f);!(x.test(a)||_.test(a)||(u=a.indexOf("<",1))<0);)f+=u,a=t.slice(f);n=t.substring(0,f)}if(f<0&&(n=t),n&&i(n.length),e.chars&&n&&e.chars(n),t===r){e.chars&&e.chars(t);break}}function i(e){o+=e,t=t.substring(e)}function s(){const e=t.match(_);if(e){const n={tagName:e[1],attrs:[],start:o};let r,s;for(i(e[0].length);!(r=t.match($))&&(s=t.match(v)||t.match(y));)s.start=o,i(s[0].length),s.end=o,n.attrs.push(s);if(r)return n.unarySlash=r[1],i(r[0].length),n.end=o,n}}function l(t){const r=t.tagName,o=!!t.unarySlash,i=t.attrs.length,s=new Array(i);for(let e=0;e<i;e++){const n=t.attrs[e],r=n[3]||n[4]||n[5]||"";s[e]={name:n[1],value:k(r)}}o||n.push({tag:r,lowerCasedTag:r.toLowerCase(),attrs:s,start:t.start,end:t.end}),e.start&&e.start(r,s,o)}function c(t,r,i){let s,l;if(null==r&&(r=o),null==i&&(i=o),t)for(l=t.toLowerCase(),s=n.length-1;s>=0&&n[s].lowerCasedTag!==l;s--);else s=0;if(s>=0){for(let t=n.length-1;t>=s;t--)e.end&&e.end();n.length=s}else"br"===l?e.start&&e.start(t,[],!0):"p"===l&&(e.start&&e.start(t,[],!1),e.end&&e.end())}c()}(t,{start(t,i,s){let l=function(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:J(e),rawAttrsMap:{},parent:n,children:[]}}(t,i,r);!function(t){let e;if(e=C(t,"v-for")){const n=function(t){const e=t.match(L);if(!e)return;const n={};n.for=e[2].trim();const r=e[1].trim().replace(E,"");return n.alias=r,n}(e);n&&function(t,e){for(const n in e)t[n]=e[n]}(t,n)}}(l),function(t){const e=C(t,"v-if");if(e)t.if=e,F(t,{exp:e,block:t});else{null!=C(t,"v-else")&&(t.else=!0);const e=C(t,"v-else-if");e&&(t.elseif=e)}}(l),n||(n=l),s?o(l):(r=l,e.push(l))},end(){const t=e[e.length-1];e.length-=1,r=e[e.length-1],o(t)},chars(t){if(!r)return;const e=r.children;if(t.trim()||(t=t.trim()||e.length?" ":""),t){let n,r;" "!==t&&(n=function(t){const e=O;if(!e.test(t))return;const n=[],r=[];let o,i,s,l=e.lastIndex=0;for(;o=e.exec(t);){(i=o.index)>l&&(r.push(s=t.slice(l,i)),n.push(JSON.stringify(s)));const e=o[1].trim();n.push(`_s(${e})`),r.push({"@binding":e}),l=i+o[0].length}return l<t.length&&(r.push(s=t.slice(l)),n.push(JSON.stringify(s))),{expression:n.join("+"),tokens:r}}(t))?r={type:2,expression:n.expression,tokens:n.tokens,text:t}:" "===t&&e.length&&" "===e[e.length-1].text||(r={type:3,text:t}),r&&e.push(r)}}}),n}function F(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function J(t){const e={};for(let n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}const V=/\([^)]*?\);*$/,z=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/;function T(t){if(!t)return"function(){}";if(Array.isArray(t))return`[${t.map(t=>T(t)).join(",")}]`;const e=z.test(t.value),n=z.test(t.value.replace(V,""));return e?t.value:`function($event){${n?`return ${t.value}`:t.value}}`}class Z{constructor(t,e,n,r,o,i){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=o,this.context=i,this.key=e&&e.key,this.parent=void 0,this.isStatic=!1,this.isRootInsert=!0,this.isCloned=!1}}const D=t=>{const e=new Z;return e.text=t,e};function R(t){return new Z(void 0,void 0,void 0,String(t))}function q(t){return Array.isArray(t)?function t(e,n){const r=[];let o,i,s,l;for(o=0;o<e.length;o++)d(i=e[o])||"boolean"==typeof i||(s=r.length-1,l=r[s],Array.isArray(i)?i.length>0&&(B((i=t(i,`${n||""}_${o}`))[0])&&B(l)&&(r[s]=R(l.text+i[0].text),i.shift()),r.push.apply(r,i)):B(i)&&B(l)?r[s]=R(l.text+i.text):(!0===e._isVList&&p(i.tag)&&d(i.key)&&p(n)&&(i.key=`__vlist${n}_${o}__`),r.push(i)));return r}(t):void 0}function B(t){return p(t)&&p(t.text)}const G=2;function H(t,e,n,r){let o;return Array.isArray(n)&&(o=r,r=n,n=void 0),function(t,e,n,r,o){if(p(n)&&p(n.__ob__))return D();o===G&&(r=q(r));let i;"string"==typeof e&&(i=new Z(e,n,r,void 0,void 0,t));return p(i)?i:D()}(t,e,n,r,o)}function K(t){if(t.for&&!t.forProcessed)return function(t){const e=t.for,n=t.alias;return t.forProcessed=!0,`_l((${e}),`+`function(${n}){`+`return ${K(t)}`+"})"}(t);if(t.if&&!t.ifProcessed)return function(t){return t.ifProcessed=!0,function t(e){if(!e.length)return"_e()";const n=e.shift();return n.exp?`(${n.exp})?${r(n.block)}:${t(e)}`:`${r(n.block)}`;function r(t){return K(t)}}(t.ifConditions.slice())}(t);{let e,n;t.plain||(n=function(t){let e="{";t.refInFor&&(e+="refInFor:true,");t.attrs&&(e+=`attrs:${function(t){let e="";for(let n=0;n<t.length;n++){const r=t[n],o=W(r.value);e+=`"${r.name}":${o},`}return e=`{${e.slice(0,-1)}}`}(t.attrs)},`);t.events&&(e+=`${function(t){let e="";for(const n in t){e+=`"${n}":${T(t[n])},`}return"on:"+(e=`{${e.slice(0,-1)}}`)}(t.events)},`);e=e.replace(/,$/,"")+"}",t.wrapData&&(e=t.wrapData(e));t.wrapListeners&&(e=t.wrapListeners(e));return e}(t));const r=function(t,e){const n=t.children;if(n.length){const t=n[0];if(1===n.length&&t.for){const n=e?",0":"";return`${K(t)}${n}`}const r=e?function(t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];if(1===r.type&&(Q(r)||r.ifConditions&&r.ifConditions.some(t=>Q(t.block)))){e=G;break}}return e}(n):0,o=U;return`[${n.map(t=>o(t)).join(",")}]${r?`,${r}`:""}`}}(t,!0);return e=`_c('${t.tag}'${n?`,${n}`:""}${r?`,${r}`:""})`}}function Q(t){return void 0!==t.for}function U(t){return 1===t.type?K(t):`_v(${2===(e=t).type?e.expression:W(JSON.stringify(e.text))})`;var e}function W(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function X(t){const e=M(t.replace(/\n/g,"")),n=function(t){return console.log("astastast",t),{render:`with(this){return ${t?K(t):'_c("div")'}}`}}(e);return{ast:e,render:n.render,renderFn:new Function(n.render)}}function Y(t,e){let n,r,o;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);return p(n)||(n=[]),n._isVList=!0,n}function tt(t){return document.createTextNode(t)}function et(t,e){t.appendChild(e)}function nt(t,e){t.textContent=e}function rt(t){const e=t.parentNode;p(e)&&function(t,e){t.removeChild(e)}(e,t)}function ot(t,e){return t.key===e.key&&t.tag===e.tag&&p(t.data)===p(e.data)}function it(t,e,n,r,o){for(;r<=o;++r)ut(n[r],t,e,!1,n,r)}function st(t,e,n){for(;e<=n;++e){p(t[e])&&rt(vnode.elm)}}function lt(t,e,n){let r,o;const i={};for(r=e;r<=n;++r)p(o=t[r].key)&&(i[o]=r);return i}function ct(t,e){if(t===e)return;const n=e.elm=t.elm,r=t.children,o=e.children;d(e.text)?p(r)&&p(o)?r!==o&&function(t,e,n){let r,o,i,s,l=0,c=0,a=e.length-1,u=e[0],f=e[a],h=n.length-1,g=n[0],y=n[h];for(;l<=a&&c<=h;)d(u)?u=e[++l]:d(f)?f=e[--a]:ot(u,g)?(ct(u,g),u=e[++l],g=n[++c]):ot(f,y)?(ct(f,y),f=e[--a],y=n[--h]):ot(u,y)?(ct(u,y),u=e[++l],y=n[--h]):ot(f,g)?(ct(f,g),f=e[--a],g=n[++c]):(d(r)&&(r=lt(e,l,a)),d(o=p(g.key)?r[g.key]:ht(g,e,l,a))?ut(g,t,u.elm,!1,n,c):ot(i=e[o],g)?(ct(i,g),e[o]=void 0):ut(g,t,u.elm,!1,n,c),g=n[++c]);l>a?it(t,s=d(n[h+1])?null:n[h+1].elm,n,c,h):c>h&&st(e,l,a)}(n,r,o):p(o)?(p(t.text)&&nt(n,""),it(n,null,o,0,o.length-1)):p(r)?st(r,0,r.length-1):p(t.text)&&nt(n,""):t.text!==e.text&&nt(n,e.text)}function at(t,e,n){if(!d(e)){if(console.log("oldVnodeoldVnodeoldVnode",t),d(t)){ut(e);const t=function(t){if("string"==typeof t){const e=document.querySelector(t);return e||document.createElement("div")}return t}(e.context.el);t&&ft(t,e.elm)}else ot(t,e)?ct(t,e):ut(e);return e.elm}p(t)&&t.elm&&t.elm.parentNode&&t.elm.parentNode.removeChild(t.elm)}function ut(t,e,n,r,o,i){p(t.elm)&&p(o)&&(t=o[i]=cloneVNode(t)),t.isRootInsert=!r;const s=t.data,l=t.children,c=t.tag;if(p(c)){if(t.elm=function(t,e){const n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}(c,t),s&&s.hasOwnProperty("on")){const e=s.on;for(const n in e)t.elm.addEventListener(n,e[n])}!function(t,e){if(Array.isArray(e))for(let n=0;n<e.length;++n)ut(e[n],t.elm,null,!0,e,n);else n=t.text,("string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n)&&et(t.elm,tt(String(t.text)));var n}(t,l),ft(e,t.elm)}else t.elm=tt(t.text),ft(e,t.elm)}function ft(t,e){p(t)&&et(t,e)}function ht(t,e,n,r){for(let o=n;o<r;o++){const n=e[o];if(p(n)&&ot(t,n))return o}}let dt=new class{constructor(t={}){this.$options=t,this.el=t.el;let e=this._data=this.$options.data,n=this._methods=this.$options.methods;Object.keys(e).forEach(t=>this._proxy(t)),Object.keys(n).forEach(t=>this[t]=n[t].bind(this));const r=X(this.$options.template||"<div></div>");var o;this._ast=r.ast,this._render=r.renderFn,console.log("code:",r),f(e),(o=this)._vnode=null,o._c=(t,e,n)=>H(o,t,e,n),o._v=R,o._l=Y,o._s=g,function(t){t._update=function(e,n){const r=t._vnode;t._vnode=e,t.$el=r?at(r,e):at(t.$el,e,0)},t.$mount=function(t){new l(t,()=>{t._update(t._render(),!0)},()=>{},void 0,!0)}}(this),this._update(this._render.call(this),!1),console.log("$vnode",this._vnode),console.log(this),this.$mount(this)}$watch(t,e){new l(this,t,e)}_proxy(t){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,get:()=>this._data[t],set:e=>{this._data[t]=e}})}}({template:'\n    <div>\n      <input @input="input" type="text"/>\n      <br />\n      <label>值:<span>{{ txt }}</span></label>\n      <br />\n      <button @click="addArr">数组+1</button>\n      <br />\n      <label>数组:<span v-for="item in arr">{{ item }}</span></label>\n      <br />\n      <label v-if="txt">是:<span v-bind:data="111">{{txt}}</span></label>\n      <label v-else>否</label>\n    </div>',el:"#app",data:{txt:"",arr:[1,2]},methods:{input(t){const e=t.target.value;this.txt!==e&&(this.txt=e)},addArr(){this.arr.push(this.arr.length+1)}}});console.log(dt)}]);